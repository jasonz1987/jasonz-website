---
title: 程序员日记20241209
lastmod: 2024-12-09T14:26:00+08:00
tags:
  - Android
  - Uniapp
  - UTS
  - 无障碍
  - 陀螺仪
  - 日记
  - 手势
---


## Android

* 被**无障碍服务**折磨了一晚上，理论上APP杀死后，服务应该还在，但是有时候服务直接就没了，估计是因为华为，小米这些机器的安全机制吧，所以无障碍服务如何保活，其实也是一个技术课题。
* 继续尝试研究了一下**全局监听手势事件**，看到有几个方案通过遍历`view` + 代理`onTouchListner`的方案，但是实际尝试了，好像并没有效果，由于时间原因，没有继续研究下去了，还是切回了`activity`里回调的方案。



## IOS

* IOS**陀螺仪**启动后没有回调，刚开始以为是需要啥权限的，调试了半天，后来发现静态类中的局部变量的问题导致实例被回收了。

* IOS下的**全局手势事件**，目前是通过自定义`window` 然后重新`onEvent`方法来实现的。

  

## UTS

* `UTSActivityCallback` 只支持`uniappx`，因此在`uniapp`下目前应该无法监听到`activity`的回调事件。



## 其他

* 之前接了一个项目，代理人没有表达清楚，以为是要做`uniapp`的插件，结果花费了大量的时间去找寻`uniapp`的适配方案，结果后来跟客户说的是要做原生SDK，下次还是要沟通和明确好项目需求再进行。